<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Mark's Blog &middot; Why not
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="container content">
      <div class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home">Mark's Blog</a>
          <small>Why not</small>
        </h3>
      </div>

      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/regex/ruby/2013/08/09/ruby-regex-end-of-line-character-different-depending-on-platform/">
        Ruby regex end of line character different depending on platform
      </a>
    </h1>

    <span class="post-date">09 Aug 2013</span>

    <p>Ruby&#39;s IO.puts will use the appropriate separator based on the platform; e.g. &quot;\n&quot; for *nix and &quot;\r\n&quot; for windows, which makes sense to me. However, ran into an issue today where the end line character for regex wasn&#39;t matching as demonstrated here (tested on OSX)</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">    &gt; s = &quot;test\r\nhere&quot;
    &gt; s.match(/test$/)
     =&gt; nil
</code></pre></div>
<p>I found this SO article helpful:
<a href="http://stackoverflow.com/questions/5148359/ruby-on-a-mac-regular-expression-spanning-two-lines-of-text">http://stackoverflow.com/questions/5148359/ruby-on-a-mac-regular-expression-spanning-two-lines-of-text</a></p>

<p>I ran into this because I had to change the Ri_Cal gem to export using DOS style \r\n always per <a href="http://tools.ietf.org/html/rfc2445#section-4.1">http://tools.ietf.org/html/rfc2445#section-4.1</a>. The spec tests were failing because they were just using &quot;$&#39; to match the end of line, which now was an &quot;\r&quot;. In my case, I just added the &quot;\r&quot; so that someone coming behind me would be clear on the intent. Another approach would be to strip before I tested (let that image sink in).</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/git/os%20x/2013/07/26/mountain-lion-git-command-not-found/">
        Mountain Lion - git “Command Not Found” 
      </a>
    </h1>

    <span class="post-date">26 Jul 2013</span>

    <p>Upgraded to OSx 10.8.4 (Mountain Lion) this morning and after the 2 reboots, started up terminal to get to work and</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">    $ git checkout -b workingbranch
    -bash: git: command not found
</code></pre></div>
<p>bah!  Thankfully, internets to the rescue and this <a href="http://www.hongkiat.com/blog/mountain-lion-git-fix/">post</a> pointed me to 1. install XCode (already installed) and 2. install command line tools from XCode (FTW).</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/ruby%20on%20rails/2013/05/23/rails-3-2-13-and-chaining-scopes-default-scopes-can-fail/">
        Rails 3.2.13 and default scopes fail 
      </a>
    </h1>

    <span class="post-date">23 May 2013</span>

    <p>Rails upgrade SOP - created a branch, upgraded from 3.2.12 to 3.2.13, ran tests and... WAT?... a number of failures. My controller tests were telling me they are getting data they shouldn&#39;t. Root cause was identified as this issue: <a href="https://github.com/rails/rails/issues/9813">https://github.com/rails/rails/issues/9813</a></p>

<p>Bottom line is if you have default scopes on your model, subsequent scoping appears to ignore it.; e.g.
[code language=&quot;ruby&quot;]
    class Book &lt; ActiveRecord::Base
      default_scope where(:id =&gt; [1,2])
    end</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">bs = Book.all #  SELECT &quot;books&quot;.* FROM &quot;books&quot; WHERE &quot;books&quot;.&quot;id&quot; IN (1, 2)
bs.find(3) # SELECT &quot;books&quot;.* FROM &quot;books&quot; WHERE &quot;books&quot;.&quot;id&quot; = ? LIMIT 1  [[&quot;id&quot;, 3]]
</code></pre></div>
<p>[/code]</p>

<p>In 3.2.12 would raise RecordNotFound, 3.2.13 happily finds it. So, waiting on a fix for that. Seems not an easy fix :/</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/ios/mobile/2013/04/22/kona-mobile/">
        Kona Mobile
      </a>
    </h1>

    <span class="post-date">22 Apr 2013</span>

    <p>Just read a nice review of Kona mobile, what I&#39;ve been working on most recently with a couple of other great guys.</p>

<p><a href="http://tabtimes.com/feature/ittech-apps/2013/04/19/best-new-ipad-apps-share-articles-edit-office-documents-annotate-pdfs">http://tabtimes.com/feature/ittech-apps/2013/04/19/best-new-ipad-apps-share-articles-edit-office-documents-annotate-pdfs</a></p>

<p>Very excited to see Kona&#39;s recognition in the market . Check it out at <a href="www.kona.com">kona.com </a>. Sign up for a free account and start social collaboration for youth soccer, volunteer groups and SMBs.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/angularjs/2013/04/12/angularjs-directives/">
        AngularJS directives
      </a>
    </h1>

    <span class="post-date">12 Apr 2013</span>

    <p>Just bookmarking a good overview of AngularJS directives <a href="http://statelessprime.blogspot.be/2013/04/angularjs-directive-overview.html">here</a>.</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page5">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page3">Newer</a>
    
  
</div>


      

<div id="disqus_thread"></div>

<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'marknadig';

  // disqus uses disqus_identifier by default, but  will use disqus_url if not defined
  
    // var disqus_identifier = 'http://mark.nadigs.net/page4/';
    var disqus_url = 'http://mark.nadigs.net/page4/';
  

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

<!--<script type="text/javascript">-->
  <!--var disqus_shortname = 'marknadig';-->
  <!---->
    <!--(function () {-->
      <!---->
        <!--var countScript = document.createElement('script');-->
        <!--countScript.type = 'text/javascript';-->
        <!--countScript.async = true;-->
        <!--countScript.src = 'http://' + disqus_shortname + '.disqus.com/count.js';-->
        <!--(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(countScript);-->
      <!--}());-->
<!--</script>-->


      <div class="footer">
        <p>
          &copy; 2014. All rights reserved.
        </p>
      </div>
    </div>

  </body>
</html>
